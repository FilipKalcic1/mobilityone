
## 游 Upute za pokretanje sustava

Slijedite ove korake striktnim redoslijedom kako biste podigli mikroservis u produkcijskom ili testnom okru쬰nju.

## Konfiguracija okoline
Kreirajte datoteku .env u korijenskom direktoriju projekta i unesite produkcijske varijable (bez suvi코nih/starih klju캜eva):

## Isje캜ak koda

APP_ENV=production

REDIS_URL=redis://redis:6379

OPENAI_API_KEY=sk-proj-...

INFOBIP_BASE_URL=xxxxx.api.infobip.com

INFOBIP_API_KEY=...

INFOBIP_SENDER_NUMBER=...

INFOBIP_SECRET_KEY=...

## Podizanje kontejnera
 
Izvr코ite izgradnju i pokretanje Docker servisa u pozadini:

Bash

docker-compose up --build -d

## Verifikacija servisa

Provjerite status servisa pozivom na Health Check endpoint:

Bash

curl http://localhost:8000/health
 
 #O캜ekivani odgovor: {"status": "ok", "service": "whatsapp-webhook"}

## Izlaganje Webhooka (Samo za lokalni razvoj)

Ako se sustav ne nalazi na javnoj IP adresi, uspostavite tunel:

Bash

ngrok http 8000
Kopirajte generirani HTTPS URL u Infobip postavke broja (Forwarding sekcija): 
https://<vas-ngrok-id>.ngrok-free.app/webhook/whatsapp
## Rezime aplikacije

Ovaj projekt predstavlja robustan, asinkroni mikroservis za upravljanje voznim parkom. Implementirane su sljede캖e klju캜ne arhitektonske i funkcionalne komponente:

Asinkrona arhitektura: Razdvojena logika na API Gateway (Webhook) za brzi prijem poruka i Worker servis za te코ku obradu, povezani putem Redisa.

Dvosmjerna komunikacija (2-Way Messaging): Potpuna integracija s Infobip WhatsApp API-jem za primanje upita i slanje odgovora korisnicima.

Inteligentna obrada (NLP): Integracija OpenAI modela za prepoznavanje namjere korisnika (Intent Recognition) i ekstrakciju parametara iz prirodnog jezika.

Sustav otpornosti (Reliability): Implementiran Exponential Backoff mehanizam za automatski ponovni poku코aj slanja poruka u slu캜aju mre쬹ih gre코aka.

Sljedivost (Traceability): Uveden correlation_id koji prati svaki zahtjev od ulaska u webhook do kona캜ne obrade, omogu캖uju캖i precizno pra캖enje gre코aka u logovima.

Sigurnost (Security): Implementirana HMAC-SHA256 validacija potpisa za osiguranje integriteta svih dolaznih webhook zahtjeva.

Konfiguracijska strogost: Kori코tenje Pydantic modela za strogu validaciju environment varijabli, sprje캜avaju캖i pokretanje sustava s neispravnom konfiguracijom.
